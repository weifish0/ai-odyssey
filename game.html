<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="stylesheet" href="styles/style.css">
  <link rel="stylesheet" href="styles/conversation.css">
  <link rel="stylesheet" href="styles/bulletin.css">
  <link rel="stylesheet" href="styles/gamepad.css">
  <link rel="stylesheet" href="styles/aipanel.css">
  <link rel="icon" href="./img/favicon.ico" type="image/x-icon">
  <script>
    console.log(window.location.hostname)
    const isLocal = window.location.hostname === "127.0.0.1";
    const baseHref = isLocal ? "/" : "/ai-odyssey/";
    document.write(`<base href="${baseHref}">`);
    console.log(baseHref)
  </script>
</head>

<body>
  <canvas></canvas>
  <div class="control-buttons">
    <button id="upBtn" class="control-btn up">▲</button>
    <div class="left-right-btns">
      <button id="leftBtn" class="control-btn left">◀</button>
      <button id="downBtn" class="control-btn down">▼</button>
      <button id="rightBtn" class="control-btn right">▶</button>
    </div>
  </div>
  <div id="circleButton"></div>


  <img src="./img/mainpage/toggle-icon.png" alt="Toggle Bulletin Board"
    id="toggleBulletinIcon"><!-- 添加一個按鈕來控制 bulletinBoard 的展開和收起 -->Ｆ

  <img src="./img/mainpage/playmusic-icon.png" alt="Play Music" id="toggleMusicIcon"><!-- 播放音樂的按鈕 -->
  <div id="bulletinBoard">
    <div id="userProfile">
      <img src="./img/achievement/archer.png" alt="User Avatar" id="userAvatar">
      <div id="userInfo">
        <h2>神奇弓箭手</h2>
        <p>經驗值：<span id="userExp">500</span></p>
      </div>
    </div>
    <div id="chatBox">
      <h3>
        <img src="./img/mainpage/ai-bot.png" alt="AI Robot Avatar" id="aiAvatar"> 傳說中的超級機器人，問他點什麼吧！
      </h3>
      <div id="chatHistory"></div>
      <input type="text" id="userInput" placeholder="輸入您的問題...">
      <button onclick="askAI()" id="adkAI">發送</button>
    </div>
  </div>
  </div>

  <div id="npcImageContainer">
    <div id="npcInfo">
      <span id="npcName">角色名字</span>
      <span id="npcDescription">角色敘述</span>
    </div>
    <img src="" alt="NPC Image" id="npcImage">
  </div>

  <div id="aiPanelContainer"></div>

  <div id="characterDialogueBox">
    <div id="dialogueContent"></div>
    <div id="dialogueControls">
      <button id="prevDialogue">⬅</button>
      <button id="nextDialogue">⮕</button>
    </div>
  </div>

  <div id="userInterface">
    <div style="top: 50px; left: 50px;">
      <h1 style="font-size: 16px">Draggle</h1>
      <div style="position: relative">
        <div style="height: 5px; background-color: #ccc; margin-top: 10px"></div>
        <div id="enemyHealthBar"></div>
      </div>
    </div>

    <div style="top: 330px; right: 50px;">
      <h1 style="font-size: 16px">Emby</h1>
      <div style="position: relative">
        <div style="height: 5px; background-color: #ccc; margin-top: 10px"></div>
        <div id="playerHealthBar"></div>
      </div>
    </div>

    <div
      style="background-color: white; height: 140px; position: absolute; bottom: 0; left: 0; right: 0; border-top: 4px black solid; display: flex;">
      <div id="dialogueBox">sdkfjlsdajl</div>
      <div id="attacksBox"></div>
      <div>
        <h1 id="attackType">Attack Type</h1>
      </div>
    </div>


    <!-- 引入 JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.11.0/dist/tf.min.js" type="text/javascript"></script>
    <script src="data/audio.js"></script>
    <script src="data/battleZones.js"></script>
    <script src="data/collisions.js"></script>
    <script src="data/attacks.js"></script>
    <script src="data/monsters.js"></script>
    <script src="data/characters.js"></script>
    <script src="data/setting.js"></script>
    <script src="data/map.js"></script>
    <script src="js/utils.js"></script>
    
    <script src="js/conversation.js"></script>
    <script src="js/image_recognition.js"></script>

    <script src="js/bulletin.js"></script>
    <script src="classes.js"></script>
    <script src="game.js"></script>
    <script src="battleScene.js"></script>
</body>

</html>